import{_ as V}from"./InputCopyable.eac6f423.js";import{w as R}from"./defaults.0a26f349.js";import{u as X}from"./validation.89ce9e2c.js";import{cr as b,cs as N,ct as y,v as Y,d as B,A as E,cu as L,e as P,k as F,l as w,w as O,b6 as K,n as C,F as Q,r as ee,o as $,B as z,am as te}from"./index.2e6b7445.js";import{a as c,i as U,g as A,m as H,b as W,c as ae}from"./index.3bfd0adc.js";import{_ as re}from"./FormItem.4c07172c.js";import{_ as ne}from"./Select.82aa92de.js";import{_ as oe}from"./InputGroup.1caaa6ff.js";import{_ as ie}from"./Divider.e10b5110.js";import"./c-input-text.1faff010.js";import"./random.613c1dc4.js";import"./content-copy.43681fe1.js";function ce(t,e){var n,r;b(1,arguments);var o=N(t);if(isNaN(o.getTime()))throw new RangeError("Invalid time value");var i=String((n=e==null?void 0:e.format)!==null&&n!==void 0?n:"extended"),u=String((r=e==null?void 0:e.representation)!==null&&r!==void 0?r:"complete");if(i!=="extended"&&i!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(u!=="date"&&u!=="time"&&u!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var l="",m="",d=i==="extended"?"-":"",a=i==="extended"?":":"";if(u!=="time"){var s=c(o.getDate(),2),p=c(o.getMonth()+1,2),h=c(o.getFullYear(),4);l="".concat(h).concat(d).concat(p).concat(d).concat(s)}if(u!=="date"){var v=o.getTimezoneOffset();if(v!==0){var g=Math.abs(v),D=c(Math.floor(g/60),2),M=c(g%60,2),f=v<0?"+":"-";m="".concat(f).concat(D,":").concat(M)}else m="Z";var _=c(o.getHours(),2),G=c(o.getMinutes(),2),J=c(o.getSeconds(),2),j=l===""?"":"T",q=[_,G,J].join(a);l="".concat(l).concat(j).concat(q).concat(m)}return l}function se(t,e){var n,r;if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var o=N(t);if(!U(o))throw new RangeError("Invalid time value");var i=String((n=e==null?void 0:e.format)!==null&&n!==void 0?n:"extended"),u=String((r=e==null?void 0:e.representation)!==null&&r!==void 0?r:"complete");if(i!=="extended"&&i!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(u!=="date"&&u!=="time"&&u!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var l="",m=i==="extended"?"-":"",d=i==="extended"?":":"";if(u!=="time"){var a=c(o.getDate(),2),s=c(o.getMonth()+1,2),p=c(o.getFullYear(),4);l="".concat(p).concat(m).concat(s).concat(m).concat(a)}if(u!=="date"){var h=c(o.getHours(),2),v=c(o.getMinutes(),2),g=c(o.getSeconds(),2),D=l===""?"":" ";l="".concat(l).concat(D).concat(h).concat(d).concat(v).concat(d).concat(g)}return l}function ue(t,e){var n;if(arguments.length<1)throw new TypeError("1 arguments required, but only ".concat(arguments.length," present"));var r=N(t);if(!U(r))throw new RangeError("Invalid time value");var o=Number((n=e==null?void 0:e.fractionDigits)!==null&&n!==void 0?n:0);if(!(o>=0&&o<=3))throw new RangeError("fractionDigits must be between 0 and 3 inclusively");var i=c(r.getDate(),2),u=c(r.getMonth()+1,2),l=r.getFullYear(),m=c(r.getHours(),2),d=c(r.getMinutes(),2),a=c(r.getSeconds(),2),s="";if(o>0){var p=r.getMilliseconds(),h=Math.floor(p*Math.pow(10,o-3));s="."+c(h,o)}var v="",g=r.getTimezoneOffset();if(g!==0){var D=Math.abs(g),M=c(y(D/60),2),f=c(D%60,2),_=g<0?"+":"-";v="".concat(_).concat(M,":").concat(f)}else v="Z";return"".concat(l,"-").concat(u,"-").concat(i,"T").concat(m,":").concat(d,":").concat(a).concat(s).concat(v)}var le=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],me=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function de(t){if(arguments.length<1)throw new TypeError("1 arguments required, but only ".concat(arguments.length," present"));var e=N(t);if(!U(e))throw new RangeError("Invalid time value");var n=le[e.getUTCDay()],r=c(e.getUTCDate(),2),o=me[e.getUTCMonth()],i=e.getUTCFullYear(),u=c(e.getUTCHours(),2),l=c(e.getUTCMinutes(),2),m=c(e.getUTCSeconds(),2);return"".concat(n,", ").concat(r," ").concat(o," ").concat(i," ").concat(u,":").concat(l,":").concat(m," GMT")}function fe(t){b(1,arguments);var e=y(t);return N(e*1e3)}function ve(t){return b(1,arguments),Math.floor(A(t)/1e3)}function Z(t,e){var n;b(1,arguments);var r=y((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var o=he(t),i;if(o.date){var u=_e(o.date,r);i=Te(u.restDateString,u.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var l=i.getTime(),m=0,d;if(o.time&&(m=we(o.time),isNaN(m)))return new Date(NaN);if(o.timezone){if(d=Ne(o.timezone),isNaN(d))return new Date(NaN)}else{var a=new Date(l+m),s=new Date(0);return s.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),s.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),s}return new Date(l+m+d)}var x={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ge=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,pe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,De=/^([+-])(\d{2})(?::?(\d{2}))?$/;function he(t){var e={},n=t.split(x.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],x.timeZoneDelimiter.test(e.date)&&(e.date=t.split(x.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var o=x.timezone.exec(r);o?(e.time=r.replace(o[1],""),e.timezone=o[1]):e.time=r}return e}function _e(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var o=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?o:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function Te(t,e){if(e===null)return new Date(NaN);var n=t.match(ge);if(!n)return new Date(NaN);var r=!!n[4],o=S(n[1]),i=S(n[2])-1,u=S(n[3]),l=S(n[4]),m=S(n[5])-1;if(r)return xe(e,l,m)?Me(e,l,m):new Date(NaN);var d=new Date(0);return!be(e,i,u)||!Ce(e,o)?new Date(NaN):(d.setUTCFullYear(e,i,Math.max(o,u)),d)}function S(t){return t?parseInt(t):1}function we(t){var e=t.match(pe);if(!e)return NaN;var n=I(e[1]),r=I(e[2]),o=I(e[3]);return Ue(n,r,o)?n*H+r*W+o*1e3:NaN}function I(t){return t&&parseFloat(t.replace(",","."))||0}function Ne(t){if(t==="Z")return 0;var e=t.match(De);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),o=e[3]&&parseInt(e[3])||0;return Ie(r,o)?n*(r*H+o*W):NaN}function Me(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var o=r.getUTCDay()||7,i=(e-1)*7+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}var Se=[31,null,31,30,31,30,31,31,30,31,30,31];function k(t){return t%400===0||t%4===0&&t%100!==0}function be(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(Se[e]||(k(t)?29:28))}function Ce(t,e){return e>=1&&e<=(k(t)?366:365)}function xe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function Ue(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function Ie(t,e){return e>=0&&e<=59}function ye(t){if(b(1,arguments),typeof t=="string"){var e=t.match(/(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(?:\.(\d{0,7}))?(?:Z|(.)(\d{2}):?(\d{2})?)?/);return e?new Date(Date.UTC(+e[1],+e[2]-1,+e[3],+e[4]-(+e[9]||0)*(e[8]=="-"?-1:1),+e[5]-(+e[10]||0)*(e[8]=="-"?-1:1),+e[6],+((e[7]||"0")+"00").substring(0,3))):new Date(NaN)}return N(t)}const Re=/^([+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([.,]\d+(?!:))?)?(\17[0-5]\d([.,]\d+)?)?([zZ]|([+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,Ee=/^([0-9]{4})-([0-9]{2})-([0-9]{2}) ([0-9]{2}):([0-9]{2}):([0-9]{2})(\.[0-9]{1,6})?(([+-])([0-9]{2}):([0-9]{2})|Z)?$/,Fe=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(\.[0-9]{1,9})?(([+-])([0-9]{2}):([0-9]{2})|Z)$/,Oe=/^[A-Za-z]{3},\s[0-9]{2}\s[A-Za-z]{3}\s[0-9]{4}\s[0-9]{2}:[0-9]{2}:[0-9]{2}\sGMT$/;function T(t){return e=>!Y.isNil(e)&&t.test(e)}const $e=T(Re),ze=T(Ee),Ze=T(Fe),Ye=T(Oe),Ae=T(/^[0-9]{1,10}$/),He=T(/^[0-9]{1,13}$/),We=T(/^[0-9a-fA-F]{24}$/);function ke(t){if(Y.isNil(t))return!1;try{return new Date(t).toUTCString()===t}catch{return!1}}const tt=B({__name:"date-time-converter",setup(t){const e=E(""),n=a=>new Date(a);function r(a,s){return!s||!d.isValid?"":R(()=>a(s),"")}const o=[{name:"JS locale date string",fromDate:a=>a.toString(),toDate:n,formatMatcher:()=>!1},{name:"ISO 8601",fromDate:ce,toDate:Z,formatMatcher:a=>$e(a)},{name:"ISO 9075",fromDate:se,toDate:Z,formatMatcher:a=>ze(a)},{name:"RFC 3339",fromDate:ue,toDate:n,formatMatcher:a=>Ze(a)},{name:"RFC 7231",fromDate:de,toDate:n,formatMatcher:a=>Ye(a)},{name:"Unix timestamp",fromDate:a=>String(ve(a)),toDate:a=>fe(+a),formatMatcher:a=>Ae(a)},{name:"Timestamp",fromDate:a=>String(A(a)),toDate:a=>ye(+a),formatMatcher:a=>He(a)},{name:"UTC format",fromDate:a=>a.toUTCString(),toDate:n,formatMatcher:a=>ke(a)},{name:"Mongo ObjectID",fromDate:a=>Math.floor(a.getTime()/1e3).toString(16)+"0000000000000000",toDate:a=>new Date(parseInt(a.substring(0,8),16)*1e3),formatMatcher:a=>We(a)}],i=E(6),u=L(),l=P(()=>{if(!e.value)return u.value;const{toDate:a}=o[i.value];try{return a(e.value)}catch{return}});function m(a){const s=o.findIndex(({formatMatcher:p})=>p(a));s!==-1&&(i.value=s)}const d=X({source:e,watch:[i],rules:[{message:"This date is invalid for this format",validator:a=>R(()=>{if(a==="")return!0;const s=o[i.value].toDate(a);return ae(s)&&U(s)},!1)}]});return(a,s)=>{const p=te,h=ne,v=oe,g=re,D=ie,M=V;return $(),F("div",null,[w(g,K({"show-label":!1},C(d).attrs),{default:O(()=>[w(v,null,{default:O(()=>[w(p,{value:C(e),"onUpdate:value":s[0]||(s[0]=f=>z(e)?e.value=f:null),autofocus:"","on-input":m,placeholder:"Put you date string here...",clearable:"","input-props":{"data-test-id":"date-time-converter-input"}},null,8,["value"]),w(h,{value:C(i),"onUpdate:value":s[1]||(s[1]=f=>z(i)?i.value=f:null),style:{flex:"0 0 170px"},options:o.map(({name:f},_)=>({label:f,value:_})),"data-test-id":"date-time-converter-format-select"},null,8,["value","options"])]),_:1})]),_:1},16),w(D,{style:{"margin-top":"0"}}),($(),F(Q,null,ee(o,({name:f,fromDate:_})=>w(M,{key:f,label:f,"label-width":"150px","label-position":"left","label-align":"right",value:r(_,C(l)),placeholder:"Invalid date...","test-id":f,readonly:"","mt-2":""},null,8,["label","value","test-id"])),64))])}}});export{tt as default};
