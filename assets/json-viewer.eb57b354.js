import{T as k}from"./TextareaCopyable.28637c24.js";import{u as j}from"./validation.b283a4a1.js";import{w as J}from"./defaults.0a26f349.js";import{l as y}from"./index.8debc66d.js";import{ac as f,_ as V,d as O,M as S,b7 as m,e as z,k as E,q as N,l as o,w as u,n as l,F as B,a8 as C,o as P,b0 as c,a7 as U}from"./index.ca2546a6.js";import{_ as A}from"./FormItem.7d600ca2.js";import{_ as F}from"./Switch.1070fb6c.js";import{_ as I}from"./InputNumber.6c53a983.js";import"./Copy.c1ef7b14.js";import"./Scrollbar.0befd17f.js";import"./Remove.21adbc77.js";import"./Button.57c4db1c.js";import"./Add.10f3fa8b.js";function d(e){return typeof e!="object"||e===null?e:Array.isArray(e)?e.map(d):Object.keys(e).sort().reduce((n,t)=>(n[t]=d(e[t]),n),{})}function K({rawJson:e,sortKeys:n=!0,indentSize:t=3}){const a=y.parse(f(e));return JSON.stringify(f(n)?d(a):a,null,f(t))}const T={style:{flex:"0 0 100%"}},$=O({__name:"json-viewer",setup(e){const n=S(),t=m("json-prettify:raw-json",'{"hello": "world", "foo": "bar"}'),a=m("json-prettify:indent-size",3),i=m("json-prettify:sort-keys",!0),w=z(()=>J(()=>K({rawJson:t,indentSize:a,sortKeys:i}),"")),v=j({source:t,rules:[{validator:_=>_===""||y.parse(_),message:"Provided JSON is not valid."}]});return(_,s)=>{const g=F,p=A,b=I,h=C,x=U;return P(),E(B,null,[N("div",T,[o(h,{style:{margin:"0 auto","max-width":"600px"},justify:"center"},{default:u(()=>[o(p,{label:"Sort keys :","label-placement":"left","label-width":"100"},{default:u(()=>[o(g,{value:l(i),"onUpdate:value":s[0]||(s[0]=r=>c(i)?i.value=r:null)},null,8,["value"])]),_:1}),o(p,{label:"Indent size :","label-placement":"left","label-width":"100","show-feedback":!1},{default:u(()=>[o(b,{value:l(a),"onUpdate:value":s[1]||(s[1]=r=>c(a)?a.value=r:null),min:"0",max:"10",style:{width:"100px"}},null,8,["value"])]),_:1})]),_:1})]),o(p,{label:"Your raw json",feedback:l(v).message,"validation-status":l(v).status},{default:u(()=>[o(x,{ref_key:"inputElement",ref:n,value:l(t),"onUpdate:value":s[2]||(s[2]=r=>c(t)?t.value=r:null),placeholder:"Paste your raw json here...",type:"textarea",rows:"20",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},null,8,["value"])]),_:1},8,["feedback","validation-status"]),o(p,{label:"Prettify version of your json"},{default:u(()=>[o(k,{value:l(w),language:"json","follow-height-of":n.value},null,8,["value","follow-height-of"])]),_:1})],64)}}});var te=V($,[["__scopeId","data-v-4d68ae86"]]);export{te as default};
