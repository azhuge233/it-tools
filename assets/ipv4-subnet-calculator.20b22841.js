import{d as F,o as p,k,q as c,bP as V,b9 as C,e as P,al as A,l as u,n as g,B,w as _,J as $,an as j,F as M,r as S,m as x,s as y,x as L,ao as z,y as R}from"./index.2e6b7445.js";import{_ as D}from"./c-input-text.1faff010.js";import{w as O}from"./defaults.0a26f349.js";import{i as T}from"./boolean.804e8429.js";import{S as U}from"./SpanCopyable.e1d5fa66.js";import{_ as W}from"./Table.63b48cf3.js";import"./random.613c1dc4.js";import"./validation.89ce9e2c.js";const q={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},G=c("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[c("path",{d:"M5 12h14"}),c("path",{d:"M5 12l6 6"}),c("path",{d:"M5 12l6-6"})],-1),J=[G];var X=F({name:"ArrowLeft",render:function(i,a){return p(),k("svg",q,J)}});const H={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},K=c("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[c("path",{d:"M5 12h14"}),c("path",{d:"M13 18l6-6"}),c("path",{d:"M13 6l6 6"})],-1),Q=[K];var Y=F({name:"ArrowRight",render:function(i,a){return p(),k("svg",H,Q)}}),E;(function(){var h,i,a,d,b,v,f,n;n=function(e){var t,o,r,s;return t=(e&255<<24)>>>24,o=(e&255<<16)>>>16,r=(e&255<<8)>>>8,s=e&255,[t,o,r,s].join(".")},f=function(e){var t,o,r,s,l,m;for(t=[],r=s=0;s<=3&&e.length!==0;r=++s){if(r>0){if(e[0]!==".")throw new Error("Invalid IP");e=e.substring(1)}m=i(e),l=m[0],o=m[1],e=e.substring(o),t.push(l)}if(e.length!==0)throw new Error("Invalid IP");switch(t.length){case 1:if(t[0]>4294967295)throw new Error("Invalid IP");return t[0]>>>0;case 2:if(t[0]>255||t[1]>16777215)throw new Error("Invalid IP");return(t[0]<<24|t[1])>>>0;case 3:if(t[0]>255||t[1]>255||t[2]>65535)throw new Error("Invalid IP");return(t[0]<<24|t[1]<<16|t[2])>>>0;case 4:if(t[0]>255||t[1]>255||t[2]>255||t[3]>255)throw new Error("Invalid IP");return(t[0]<<24|t[1]<<16|t[2]<<8|t[3])>>>0;default:throw new Error("Invalid IP")}},a=function(e){return e.charCodeAt(0)},d=a("0"),v=a("a"),b=a("A"),i=function(e){var t,o,r,s,l;for(s=0,t=10,o="9",r=0,e.length>1&&e[r]==="0"&&(e[r+1]==="x"||e[r+1]==="X"?(r+=2,t=16):"0"<=e[r+1]&&e[r+1]<="9"&&(r++,t=8,o="7")),l=r;r<e.length;){if("0"<=e[r]&&e[r]<=o)s=s*t+(a(e[r])-d)>>>0;else if(t===16)if("a"<=e[r]&&e[r]<="f")s=s*t+(10+a(e[r])-v)>>>0;else if("A"<=e[r]&&e[r]<="F")s=s*t+(10+a(e[r])-b)>>>0;else break;else break;if(s>4294967295)throw new Error("too large");r++}if(r===l)throw new Error("empty octet");return[s,r]},h=function(){function e(t,o){var r,s,l;if(typeof t!="string")throw new Error("Missing `net' parameter");if(o||(l=t.split("/",2),t=l[0],o=l[1]),o||(o=32),typeof o=="string"&&o.indexOf(".")>-1){try{this.maskLong=f(o)}catch{throw new Error("Invalid mask: "+o)}for(r=s=32;s>=0;r=--s)if(this.maskLong===4294967295<<32-r>>>0){this.bitmask=r;break}}else if(o||o===0)this.bitmask=parseInt(o,10),this.maskLong=0,this.bitmask>0&&(this.maskLong=4294967295<<32-this.bitmask>>>0);else throw new Error("Invalid mask: empty");try{this.netLong=(f(t)&this.maskLong)>>>0}catch{throw new Error("Invalid net address: "+t)}if(!(this.bitmask<=32))throw new Error("Invalid mask for ip4: "+o);this.size=Math.pow(2,32-this.bitmask),this.base=n(this.netLong),this.mask=n(this.maskLong),this.hostmask=n(~this.maskLong),this.first=this.bitmask<=30?n(this.netLong+1):this.base,this.last=this.bitmask<=30?n(this.netLong+this.size-2):n(this.netLong+this.size-1),this.broadcast=this.bitmask<=30?n(this.netLong+this.size-1):void 0}return e.prototype.contains=function(t){return typeof t=="string"&&(t.indexOf("/")>0||t.split(".").length!==4)&&(t=new e(t)),t instanceof e?this.contains(t.base)&&this.contains(t.broadcast||t.last):(f(t)&this.maskLong)>>>0===(this.netLong&this.maskLong)>>>0},e.prototype.next=function(t){return t==null&&(t=1),new e(n(this.netLong+this.size*t),this.mask)},e.prototype.forEach=function(t){var o,r,s;for(s=f(this.first),r=f(this.last),o=0;s<=r;)t(n(s),s,o),o++,s++},e.prototype.toString=function(){return this.base+"/"+this.bitmask},e}(),E=h}).call(V);function Z({ip:h}){const[i]=h.split(".").map(Number);if(i<128)return"A";if(i>127&&i<192)return"B";if(i>191&&i<224)return"C";if(i>223&&i<240)return"D";if(i>239&&i<256)return"E"}const tt={key:0},ct=F({__name:"ipv4-subnet-calculator",setup(h){const i=C("ipv4-subnet-calculator:ip","192.168.0.1/24"),a=n=>new E(n.trim()),d=P(()=>O(()=>a(i.value),void 0)),b=[{message:"We cannot parse this address, check the format",validator:n=>T(()=>a(n.trim()))}],v=[{label:"Netmask",getValue:n=>n.toString()},{label:"Network address",getValue:({base:n})=>n},{label:"Network mask",getValue:({mask:n})=>n},{label:"Network mask in binary",getValue:({bitmask:n})=>{var e,t;return(t=(e=("1".repeat(n)+"0".repeat(32-n)).match(/.{8}/g))==null?void 0:e.join("."))!=null?t:""}},{label:"CIDR notation",getValue:({bitmask:n})=>`/${n}`},{label:"Wildcard mask",getValue:({hostmask:n})=>n},{label:"Network size",getValue:({size:n})=>String(n)},{label:"First address",getValue:({first:n})=>n},{label:"Last address",getValue:({last:n})=>n},{label:"Broadcast address",getValue:({broadcast:n})=>n,undefinedFallback:"No broadcast address with this mask"},{label:"IP class",getValue:({base:n})=>Z({ip:n}),undefinedFallback:"Unknown class type"}];function f({count:n=1}){var t;const e=(t=d.value)==null?void 0:t.next(n);e&&(i.value=e.toString())}return(n,e)=>{const t=D,o=z,r=W,s=A,l=R,m=j;return p(),k("div",null,[u(t,{value:g(i),"onUpdate:value":e[0]||(e[0]=w=>B(i)?i.value=w:null),label:"An IPv4 address with or without mask",placeholder:"The ipv4 address...","validation-rules":b,"mb-4":""},null,8,["value"]),g(d)?(p(),k("div",tt,[u(r,null,{default:_(()=>[c("tbody",null,[(p(),k(M,null,S(v,({getValue:w,label:I,undefinedFallback:N})=>c("tr",{key:I},[c("td",null,[u(o,{strong:""},{default:_(()=>[x(y(I),1)]),_:2},1024)]),c("td",null,[w(g(d))?(p(),L(U,{key:0,value:w(g(d))},null,8,["value"])):(p(),L(o,{key:1,depth:"3"},{default:_(()=>[x(y(N),1)]),_:2},1024))])])),64))])]),_:1}),u(m,{style:{"margin-top":"14px"},justify:"space-between"},{default:_(()=>[u(l,{onClick:e[1]||(e[1]=w=>f({count:-1}))},{default:_(()=>[u(s,{component:g(X)},null,8,["component"]),x(" Previous block ")]),_:1}),u(l,{onClick:e[2]||(e[2]=w=>f({count:1}))},{default:_(()=>[x(" Next block "),u(s,{component:g(Y)},null,8,["component"])]),_:1})]),_:1})])):$("",!0)])}}});export{ct as default};
