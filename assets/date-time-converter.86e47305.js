import{I as j}from"./InputCopyable.7bc43bc6.js";import{w as F}from"./defaults.0a26f349.js";import{u as X}from"./validation.b283a4a1.js";import{cn as x,co as w,cp as E,v as H,d as B,M as O,cq as L,e as P,k as $,l as _,w as I,aX as K,n as b,F as Q,r as ee,o as z,b0 as Z,q as te,m as ae,s as re,a7 as ne}from"./index.ca2546a6.js";import{a as s,i as y,g as W,m as k,b as q,c as oe}from"./index.b8311f43.js";import{_ as ie}from"./FormItem.7d600ca2.js";import{_ as se}from"./Select.2d22edc0.js";import{_ as ce}from"./InputGroup.fd1b42f8.js";import{_ as ue}from"./Divider.d3860b89.js";import{_ as le}from"./InputGroupLabel.dedb67e3.js";function me(t,e){var n,r;x(1,arguments);var o=w(t);if(isNaN(o.getTime()))throw new RangeError("Invalid time value");var i=String((n=e==null?void 0:e.format)!==null&&n!==void 0?n:"extended"),u=String((r=e==null?void 0:e.representation)!==null&&r!==void 0?r:"complete");if(i!=="extended"&&i!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(u!=="date"&&u!=="time"&&u!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var l="",m="",d=i==="extended"?"-":"",a=i==="extended"?":":"";if(u!=="time"){var c=s(o.getDate(),2),p=s(o.getMonth()+1,2),h=s(o.getFullYear(),4);l="".concat(h).concat(d).concat(p).concat(d).concat(c)}if(u!=="date"){var v=o.getTimezoneOffset();if(v!==0){var g=Math.abs(v),D=s(Math.floor(g/60),2),N=s(g%60,2),M=v<0?"+":"-";m="".concat(M).concat(D,":").concat(N)}else m="Z";var f=s(o.getHours(),2),S=s(o.getMinutes(),2),G=s(o.getSeconds(),2),J=l===""?"":"T",V=[f,S,G].join(a);l="".concat(l).concat(J).concat(V).concat(m)}return l}function de(t,e){var n,r;if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var o=w(t);if(!y(o))throw new RangeError("Invalid time value");var i=String((n=e==null?void 0:e.format)!==null&&n!==void 0?n:"extended"),u=String((r=e==null?void 0:e.representation)!==null&&r!==void 0?r:"complete");if(i!=="extended"&&i!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(u!=="date"&&u!=="time"&&u!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var l="",m=i==="extended"?"-":"",d=i==="extended"?":":"";if(u!=="time"){var a=s(o.getDate(),2),c=s(o.getMonth()+1,2),p=s(o.getFullYear(),4);l="".concat(p).concat(m).concat(c).concat(m).concat(a)}if(u!=="date"){var h=s(o.getHours(),2),v=s(o.getMinutes(),2),g=s(o.getSeconds(),2),D=l===""?"":" ";l="".concat(l).concat(D).concat(h).concat(d).concat(v).concat(d).concat(g)}return l}function fe(t,e){var n;if(arguments.length<1)throw new TypeError("1 arguments required, but only ".concat(arguments.length," present"));var r=w(t);if(!y(r))throw new RangeError("Invalid time value");var o=Number((n=e==null?void 0:e.fractionDigits)!==null&&n!==void 0?n:0);if(!(o>=0&&o<=3))throw new RangeError("fractionDigits must be between 0 and 3 inclusively");var i=s(r.getDate(),2),u=s(r.getMonth()+1,2),l=r.getFullYear(),m=s(r.getHours(),2),d=s(r.getMinutes(),2),a=s(r.getSeconds(),2),c="";if(o>0){var p=r.getMilliseconds(),h=Math.floor(p*Math.pow(10,o-3));c="."+s(h,o)}var v="",g=r.getTimezoneOffset();if(g!==0){var D=Math.abs(g),N=s(E(D/60),2),M=s(D%60,2),f=g<0?"+":"-";v="".concat(f).concat(N,":").concat(M)}else v="Z";return"".concat(l,"-").concat(u,"-").concat(i,"T").concat(m,":").concat(d,":").concat(a).concat(c).concat(v)}var ve=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ge=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function pe(t){if(arguments.length<1)throw new TypeError("1 arguments required, but only ".concat(arguments.length," present"));var e=w(t);if(!y(e))throw new RangeError("Invalid time value");var n=ve[e.getUTCDay()],r=s(e.getUTCDate(),2),o=ge[e.getUTCMonth()],i=e.getUTCFullYear(),u=s(e.getUTCHours(),2),l=s(e.getUTCMinutes(),2),m=s(e.getUTCSeconds(),2);return"".concat(n,", ").concat(r," ").concat(o," ").concat(i," ").concat(u,":").concat(l,":").concat(m," GMT")}function De(t){x(1,arguments);var e=E(t);return w(e*1e3)}function _e(t){return x(1,arguments),Math.floor(W(t)/1e3)}function Y(t,e){var n;x(1,arguments);var r=E((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var o=Ne(t),i;if(o.date){var u=Me(o.date,r);i=Se(u.restDateString,u.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var l=i.getTime(),m=0,d;if(o.time&&(m=Ce(o.time),isNaN(m)))return new Date(NaN);if(o.timezone){if(d=xe(o.timezone),isNaN(d))return new Date(NaN)}else{var a=new Date(l+m),c=new Date(0);return c.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),c.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),c}return new Date(l+m+d)}var U={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},he=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Te=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,we=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Ne(t){var e={},n=t.split(U.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],U.timeZoneDelimiter.test(e.date)&&(e.date=t.split(U.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var o=U.timezone.exec(r);o?(e.time=r.replace(o[1],""),e.timezone=o[1]):e.time=r}return e}function Me(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var o=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?o:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function Se(t,e){if(e===null)return new Date(NaN);var n=t.match(he);if(!n)return new Date(NaN);var r=!!n[4],o=C(n[1]),i=C(n[2])-1,u=C(n[3]),l=C(n[4]),m=C(n[5])-1;if(r)return Re(e,l,m)?Ie(e,l,m):new Date(NaN);var d=new Date(0);return!Ue(e,i,u)||!ye(e,o)?new Date(NaN):(d.setUTCFullYear(e,i,Math.max(o,u)),d)}function C(t){return t?parseInt(t):1}function Ce(t){var e=t.match(Te);if(!e)return NaN;var n=R(e[1]),r=R(e[2]),o=R(e[3]);return Ee(n,r,o)?n*k+r*q+o*1e3:NaN}function R(t){return t&&parseFloat(t.replace(",","."))||0}function xe(t){if(t==="Z")return 0;var e=t.match(we);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),o=e[3]&&parseInt(e[3])||0;return Fe(r,o)?n*(r*k+o*q):NaN}function Ie(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var o=r.getUTCDay()||7,i=(e-1)*7+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}var be=[31,null,31,30,31,30,31,31,30,31,30,31];function A(t){return t%400===0||t%4===0&&t%100!==0}function Ue(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(be[e]||(A(t)?29:28))}function ye(t,e){return e>=1&&e<=(A(t)?366:365)}function Re(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function Ee(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function Fe(t,e){return e>=0&&e<=59}function Oe(t){if(x(1,arguments),typeof t=="string"){var e=t.match(/(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(?:\.(\d{0,7}))?(?:Z|(.)(\d{2}):?(\d{2})?)?/);return e?new Date(Date.UTC(+e[1],+e[2]-1,+e[3],+e[4]-(+e[9]||0)*(e[8]=="-"?-1:1),+e[5]-(+e[10]||0)*(e[8]=="-"?-1:1),+e[6],+((e[7]||"0")+"00").substring(0,3))):new Date(NaN)}return w(t)}const $e=/^([+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([.,]\d+(?!:))?)?(\17[0-5]\d([.,]\d+)?)?([zZ]|([+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,ze=/^([0-9]{4})-([0-9]{2})-([0-9]{2}) ([0-9]{2}):([0-9]{2}):([0-9]{2})(\.[0-9]{1,6})?(([+-])([0-9]{2}):([0-9]{2})|Z)?$/,Ze=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(\.[0-9]{1,9})?(([+-])([0-9]{2}):([0-9]{2})|Z)$/,Ye=/^[A-Za-z]{3},\s[0-9]{2}\s[A-Za-z]{3}\s[0-9]{4}\s[0-9]{2}:[0-9]{2}:[0-9]{2}\sGMT$/;function T(t){return e=>!H.isNil(e)&&t.test(e)}const He=T($e),We=T(ze),ke=T(Ze),qe=T(Ye),Ae=T(/^[0-9]{1,10}$/),Ge=T(/^[0-9]{1,13}$/),Je=T(/^[0-9a-fA-F]{24}$/);function Ve(t){if(H.isNil(t))return!1;try{return new Date(t).toUTCString()===t}catch{return!1}}const rt=B({__name:"date-time-converter",setup(t){const e=O(""),n=a=>new Date(a);function r(a,c){return!c||!d.isValid?"":F(()=>a(c),"")}const o=[{name:"JS locale date string",fromDate:a=>a.toString(),toDate:n,formatMatcher:()=>!1},{name:"ISO 8601",fromDate:me,toDate:Y,formatMatcher:a=>He(a)},{name:"ISO 9075",fromDate:de,toDate:Y,formatMatcher:a=>We(a)},{name:"RFC 3339",fromDate:fe,toDate:n,formatMatcher:a=>ke(a)},{name:"RFC 7231",fromDate:pe,toDate:n,formatMatcher:a=>qe(a)},{name:"Unix timestamp",fromDate:a=>String(_e(a)),toDate:a=>De(+a),formatMatcher:a=>Ae(a)},{name:"Timestamp",fromDate:a=>String(W(a)),toDate:a=>Oe(+a),formatMatcher:a=>Ge(a)},{name:"UTC format",fromDate:a=>a.toUTCString(),toDate:n,formatMatcher:a=>Ve(a)},{name:"Mongo ObjectID",fromDate:a=>Math.floor(a.getTime()/1e3).toString(16)+"0000000000000000",toDate:a=>new Date(parseInt(a.substring(0,8),16)*1e3),formatMatcher:a=>Je(a)}],i=O(6),u=L(),l=P(()=>{if(!e.value)return u.value;const{toDate:a}=o[i.value];try{return a(e.value)}catch{return}});function m(a){const c=o.findIndex(({formatMatcher:p})=>p(a));c!==-1&&(i.value=c)}const d=X({source:e,watch:[i],rules:[{message:"This date is invalid for this format",validator:a=>F(()=>{if(a==="")return!0;const c=o[i.value].toDate(a);return oe(c)&&y(c)},!1)}]});return(a,c)=>{const p=ne,h=se,v=ce,g=ie,D=ue,N=le,M=j;return z(),$("div",null,[_(g,K({"show-label":!1},b(d).attrs),{default:I(()=>[_(v,null,{default:I(()=>[_(p,{value:b(e),"onUpdate:value":c[0]||(c[0]=f=>Z(e)?e.value=f:null),autofocus:"","on-input":m,placeholder:"Put you date string here...",clearable:"","input-props":{"data-test-id":"date-time-converter-input"}},null,8,["value"]),_(h,{value:b(i),"onUpdate:value":c[1]||(c[1]=f=>Z(i)?i.value=f:null),style:{flex:"0 0 170px"},options:o.map(({name:f},S)=>({label:f,value:S})),"data-test-id":"date-time-converter-format-select"},null,8,["value","options"])]),_:1})]),_:1},16),_(D,{style:{"margin-top":"0"}}),(z(),$(Q,null,ee(o,({name:f,fromDate:S})=>te("div",{key:f,"mt-1":""},[_(v,null,{default:I(()=>[_(N,{style:{flex:"0 0 170px"}},{default:I(()=>[ae(re(f)+": ",1)]),_:2},1024),_(M,{value:r(S,b(l)),placeholder:"Invalid date...","input-props":{"data-test-id":f}},null,8,["value","input-props"])]),_:2},1024)])),64))])}}});export{rt as default};
