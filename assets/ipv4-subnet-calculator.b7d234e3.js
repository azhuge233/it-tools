import{d as x,o as _,k,q as c,bl as C,b7 as P,e as A,a6 as B,l as u,w as p,aX as $,n as w,b1 as j,a8 as M,b0 as S,F as z,r as D,m as F,s as y,z as L,a7 as O,a9 as R,x as T}from"./index.ca2546a6.js";import{w as U}from"./defaults.0a26f349.js";import{u as W}from"./validation.b283a4a1.js";import{i as X}from"./boolean.bf21024b.js";import{S as q}from"./SpanCopyable.7d31b4c6.js";import{_ as G}from"./FormItem.7d600ca2.js";import{_ as H}from"./Table.eaf7a310.js";const J={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},K=c("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[c("path",{d:"M5 12h14"}),c("path",{d:"M5 12l6 6"}),c("path",{d:"M5 12l6-6"})],-1),Q=[K];var Y=x({name:"ArrowLeft",render:function(a,i){return _(),k("svg",J,Q)}});const Z={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},tt=c("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[c("path",{d:"M5 12h14"}),c("path",{d:"M13 18l6-6"}),c("path",{d:"M13 6l6 6"})],-1),et=[tt];var nt=x({name:"ArrowRight",render:function(a,i){return _(),k("svg",Z,et)}}),E;(function(){var d,a,i,m,b,v,f,n;n=function(e){var t,r,o,s;return t=(e&255<<24)>>>24,r=(e&255<<16)>>>16,o=(e&255<<8)>>>8,s=e&255,[t,r,o,s].join(".")},f=function(e){var t,r,o,s,l,h;for(t=[],o=s=0;s<=3&&e.length!==0;o=++s){if(o>0){if(e[0]!==".")throw new Error("Invalid IP");e=e.substring(1)}h=a(e),l=h[0],r=h[1],e=e.substring(r),t.push(l)}if(e.length!==0)throw new Error("Invalid IP");switch(t.length){case 1:if(t[0]>4294967295)throw new Error("Invalid IP");return t[0]>>>0;case 2:if(t[0]>255||t[1]>16777215)throw new Error("Invalid IP");return(t[0]<<24|t[1])>>>0;case 3:if(t[0]>255||t[1]>255||t[2]>65535)throw new Error("Invalid IP");return(t[0]<<24|t[1]<<16|t[2])>>>0;case 4:if(t[0]>255||t[1]>255||t[2]>255||t[3]>255)throw new Error("Invalid IP");return(t[0]<<24|t[1]<<16|t[2]<<8|t[3])>>>0;default:throw new Error("Invalid IP")}},i=function(e){return e.charCodeAt(0)},m=i("0"),v=i("a"),b=i("A"),a=function(e){var t,r,o,s,l;for(s=0,t=10,r="9",o=0,e.length>1&&e[o]==="0"&&(e[o+1]==="x"||e[o+1]==="X"?(o+=2,t=16):"0"<=e[o+1]&&e[o+1]<="9"&&(o++,t=8,r="7")),l=o;o<e.length;){if("0"<=e[o]&&e[o]<=r)s=s*t+(i(e[o])-m)>>>0;else if(t===16)if("a"<=e[o]&&e[o]<="f")s=s*t+(10+i(e[o])-v)>>>0;else if("A"<=e[o]&&e[o]<="F")s=s*t+(10+i(e[o])-b)>>>0;else break;else break;if(s>4294967295)throw new Error("too large");o++}if(o===l)throw new Error("empty octet");return[s,o]},d=function(){function e(t,r){var o,s,l;if(typeof t!="string")throw new Error("Missing `net' parameter");if(r||(l=t.split("/",2),t=l[0],r=l[1]),r||(r=32),typeof r=="string"&&r.indexOf(".")>-1){try{this.maskLong=f(r)}catch{throw new Error("Invalid mask: "+r)}for(o=s=32;s>=0;o=--s)if(this.maskLong===4294967295<<32-o>>>0){this.bitmask=o;break}}else if(r||r===0)this.bitmask=parseInt(r,10),this.maskLong=0,this.bitmask>0&&(this.maskLong=4294967295<<32-this.bitmask>>>0);else throw new Error("Invalid mask: empty");try{this.netLong=(f(t)&this.maskLong)>>>0}catch{throw new Error("Invalid net address: "+t)}if(!(this.bitmask<=32))throw new Error("Invalid mask for ip4: "+r);this.size=Math.pow(2,32-this.bitmask),this.base=n(this.netLong),this.mask=n(this.maskLong),this.hostmask=n(~this.maskLong),this.first=this.bitmask<=30?n(this.netLong+1):this.base,this.last=this.bitmask<=30?n(this.netLong+this.size-2):n(this.netLong+this.size-1),this.broadcast=this.bitmask<=30?n(this.netLong+this.size-1):void 0}return e.prototype.contains=function(t){return typeof t=="string"&&(t.indexOf("/")>0||t.split(".").length!==4)&&(t=new e(t)),t instanceof e?this.contains(t.base)&&this.contains(t.broadcast||t.last):(f(t)&this.maskLong)>>>0===(this.netLong&this.maskLong)>>>0},e.prototype.next=function(t){return t==null&&(t=1),new e(n(this.netLong+this.size*t),this.mask)},e.prototype.forEach=function(t){var r,o,s;for(s=f(this.first),o=f(this.last),r=0;s<=o;)t(n(s),s,r),r++,s++},e.prototype.toString=function(){return this.base+"/"+this.bitmask},e}(),E=d}).call(C);function ot({ip:d}){const[a]=d.split(".").map(Number);if(a<128)return"A";if(a>127&&a<192)return"B";if(a>191&&a<224)return"C";if(a>223&&a<240)return"D";if(a>239&&a<256)return"E"}const rt={key:0},ht=x({__name:"ipv4-subnet-calculator",setup(d){const a=P("ipv4-subnet-calculator:ip","192.168.0.1/24"),i=n=>new E(n.trim()),m=A(()=>U(()=>i(a.value),void 0)),{attrs:b}=W({source:a,rules:[{message:"We cannot parse this address, check the format",validator:n=>X(()=>i(n.trim()))}]}),v=[{label:"Netmask",getValue:n=>n.toString()},{label:"Network address",getValue:({base:n})=>n},{label:"Network mask",getValue:({mask:n})=>n},{label:"Network mask in binary",getValue:({bitmask:n})=>{var e,t;return(t=(e=("1".repeat(n)+"0".repeat(32-n)).match(/.{8}/g))==null?void 0:e.join("."))!=null?t:""}},{label:"CIDR notation",getValue:({bitmask:n})=>`/${n}`},{label:"Wildcard mask",getValue:({hostmask:n})=>n},{label:"Network size",getValue:({size:n})=>String(n)},{label:"First address",getValue:({first:n})=>n},{label:"Last address",getValue:({last:n})=>n},{label:"Broadcast address",getValue:({broadcast:n})=>n,undefinedFallback:"No broadcast address with this mask"},{label:"IP class",getValue:({base:n})=>ot({ip:n}),undefinedFallback:"Unknown class type"}];function f({count:n=1}){var t;const e=(t=m.value)==null?void 0:t.next(n);e&&(a.value=e.toString())}return(n,e)=>{const t=O,r=G,o=R,s=H,l=B,h=T,N=M;return _(),k("div",null,[u(r,$({label:"An IPv4 address with or without mask"},w(b)),{default:p(()=>[u(t,{value:w(a),"onUpdate:value":e[0]||(e[0]=g=>S(a)?a.value=g:null)},null,8,["value"])]),_:1},16),w(m)?(_(),k("div",rt,[u(s,null,{default:p(()=>[c("tbody",null,[(_(),k(z,null,D(v,({getValue:g,label:I,undefinedFallback:V})=>c("tr",{key:I},[c("td",null,[u(o,{strong:""},{default:p(()=>[F(y(I),1)]),_:2},1024)]),c("td",null,[g(w(m))?(_(),L(q,{key:0,value:g(w(m))},null,8,["value"])):(_(),L(o,{key:1,depth:"3"},{default:p(()=>[F(y(V),1)]),_:2},1024))])])),64))])]),_:1}),u(N,{style:{"margin-top":"14px"},justify:"space-between"},{default:p(()=>[u(h,{onClick:e[1]||(e[1]=g=>f({count:-1}))},{default:p(()=>[u(l,{component:w(Y)},null,8,["component"]),F(" Previous block ")]),_:1}),u(h,{onClick:e[2]||(e[2]=g=>f({count:1}))},{default:p(()=>[F(" Next block "),u(l,{component:w(nt)},null,8,["component"])]),_:1})]),_:1})])):j("",!0)])}}});export{ht as default};
